<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width" />
    <title>CRUD</title>
  </head>
  <h1>Persons List</h1>
  <p><a href="/inserir.html">INSERT NEW USER</a></p>

  <script>
    const url = '/persons';
  
    fetch(url)
      .then((response) => {
        return response.json();
      })
      .then((data) => {
        let persons = data;
        let saida = '';
        persons.map(function(person) {
          saida += '<strong> '+ `${person.name}` + '</strong> ' + ' - ' + `${person.photo}`  + ' - ' +  `${person.role}`;
          saida += ' - <a href="/atualizar.html?idp=' + `${person.idp}` + '">EDITAR</a>';
          saida += ' | <a href="/personRemove?idp='+`${person.idp}`+'">REMOVER</a></br>';
        });
        document.getElementById('resultado').innerHTML = saida;
      })
      .catch(function(error) {
        console.log(error);
      });
      

  </script>

  <body>
    <div id="resultado"></div>
  </body>
</html>